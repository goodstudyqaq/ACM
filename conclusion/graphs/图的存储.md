# 图的存储
存图的方式有很多，每个都有他们各自的优点和缺点，做题的时候选择用哪一个取决于需要**维护**什么，或者哪一个方便。

# 基本存图方式

## 邻接矩阵

```cpp
const int maxn = 1005;
int g[maxn][maxn];
void add_edge(int u, int v) {
	g[u][v]++;
}
```

## 邻接表

```cpp
const int maxn = 1e5 + 5;
vector< int > V[maxn];
void add_edge(int u, int v) {
	V[u].push_back(v);
}
```

## 链式前向星

- 

```cpp
const int maxn = 1e5 + 5;
const int maxm = 1e5 + 5;
int n, m;  // n 个点，m 个边
struct Edge {
	int u, v, w, nxt;
} edges[maxm];
int head[maxn], ecnt;

void init() {
	ecnt = 0;
	for (int i = 1; i <= n; i++) {
		head[i] = -1;
	}
}

void add_edge(int u, int v, int w) {
	edges[ecnt] = (Edge){ u, v, w, head[u] };
	head[u] = ecnt++;
}

void work(int u) {
	for (int i = head[u]; ~i; i = edges[i].nxt) {
		//....
	}
}
```